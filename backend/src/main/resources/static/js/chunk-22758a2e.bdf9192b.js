(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22758a2e"],{"05ea":function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},6387:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"mainPanel",staticClass:"mainPanel"},[n("div",{ref:"searchPanel",staticClass:"searchPanel"},[n("el-form",{ref:"searchForm",attrs:{inline:!0,size:"small",model:e.searchForm}},[n("el-form-item",{attrs:{label:"设备编号：",prop:"id"}},[n("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")]),n("el-button",{attrs:{size:"mini"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"tablePanel",style:{height:e.tableHeight+"px"}},[n("el-table",{staticClass:"tableGrow",staticStyle:{width:"100%"},attrs:{data:e.dataList,height:"100%"}},[n("el-table-column",{attrs:{label:"操作","min-width":"80",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.state?n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.handleWorkOrder(t.row)}}},[e._v("创建工单")]):n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.setAbnormal(t.row)}}},[e._v("置为异常")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"设备名称","show-overflow-tooltip":"","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return e.handleDetail(t.row)}}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"id","show-overflow-tooltip":"",label:"设备编号","min-width":"200"}}),n("el-table-column",{attrs:{prop:"state","show-overflow-tooltip":"",label:"设备状态","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.deviceState[t.row.state]))]}}])}),n("el-table-column",{attrs:{prop:"type",label:"机型","min-width":"140"}}),n("el-table-column",{attrs:{prop:"position","show-overflow-tooltip":"",label:"设备位置","min-width":"200"}})],1)],1),n("div",{staticClass:"pagePanel"},[n("el-pagination",{attrs:{background:"","current-page":e.pageInfo.pageNum,"page-sizes":[10,20,30,40],"page-size":e.pageInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.pageInfo,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pageInfo,"pageNum",t)},"update:pageSize":function(t){return e.$set(e.pageInfo,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pageInfo,"pageSize",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},i=[],r=n("5530"),o=(n("ac1f"),n("841c"),n("4de4"),n("caad"),n("2532"),n("2f62")),s=n("0cd6"),l=n.n(s),c=(n("ed08"),{components:{},filters:{},data:function(){return{pageInfo:{pageNum:1,pageSize:10},total:0,dataList:[],tableHeight:0,searchForm:{id:""},deviceState:{1:"正常",2:"检修中",3:"异常"}}},computed:Object(r["a"])({},Object(o["b"])(["deviceList"])),created:function(){console.log("AutoConsole: deviceList",this.deviceList),this.getList()},mounted:function(){var e=this;this.tableHeight=this.$refs.mainPanel.clientHeight-this.$refs.searchPanel.clientHeight-90,window.onresize=function(){return function(){e.tableHeight=e.$refs.mainPanel.clientHeight-e.$refs.searchPanel.clientHeight-90}()}},beforeDestroy:function(){window.onresize=null},methods:{paging:function(e,t,n){if(!e)return[];var a=l.a.drop(e,n*(t-1)),i=l.a.take(a,n);return i},handleSizeChange:function(e){this.pageInfo.pageNum=1,this.getList()},handleCurrentChange:function(e){this.pageInfo.pageNum=e,this.getList()},search:function(){this.pageInfo.pageNum=1,this.getList()},resetForm:function(){this.$refs.searchForm.resetFields(),this.search()},getList:function(){var e=this,t=this.deviceList.filter((function(t){return t.id.includes(e.searchForm.id)}));this.dataList=this.paging(t,this.pageInfo.pageNum,this.pageInfo.pageSize),this.total=t.length},handleDetail:function(e){this.$router.push({name:"deviceDetail",params:{id:e.id}})},handleWorkOrder:function(e){this.$router.push({name:"WorkOrderCreate",query:{device:e.id}})},setAbnormal:function(e){this.$store.commit("demo/UPDATE_DEVICELIST",{state:3,id:e.id}),this.search()}}}),u=c,d=(n("b65f"),n("2877")),h=Object(d["a"])(u,a,i,!1,null,"2f0d28b0",null);t["default"]=h.exports},"841c":function(e,t,n){"use strict";var a=n("c65b"),i=n("d784"),r=n("825a"),o=n("1d80"),s=n("129f"),l=n("577e"),c=n("dc4a"),u=n("14c3");i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?a(i,t,n):new RegExp(t)[e](l(n))},function(e){var a=r(this),i=l(e),o=n(t,a,i);if(o.done)return o.value;var c=a.lastIndex;s(c,0)||(a.lastIndex=0);var d=u(a,i);return s(a.lastIndex,c)||(a.lastIndex=c),null===d?-1:d.index}]}))},b65f:function(e,t,n){"use strict";n("05ea")}}]);
//# sourceMappingURL=chunk-22758a2e.bdf9192b.js.map